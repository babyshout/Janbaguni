<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>JangBaguni</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="/vendors/feather/feather.css">
    <link rel="stylesheet" href="/vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" href="/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <link rel="stylesheet" href="/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
    <link rel="stylesheet" href="/vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" type="text/css" href="/js/select.dataTables.min.css">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="/css/vertical-layout-light/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="/image/favicon.png"/>
    <link rel="stylesheet" href="/communityCSS/community.css">
    <link rel="stylesheet" href="/communityCSS/community2.css">

    <!--아이콘-->
    <script src="https://kit.fontawesome.com/ad95056f42.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/js/jquery-3.6.0.min.js"></script>

    <script th:inline="javascript">
        // Controller에서 받은 세션에 저장된 값
        // const session_user_id = [[${SS_USER_ID}]];
        const session_user_id = [[${#httpServletRequest.getSession().getAttribute('SS_USER_ID')}]]; //null;
        // 공지사항 게시글 작성자 아이디
        const user_id = [[${rDTO.userId}]];

        // 현재 글번호, 자바에서 받을 변수들은 자바스크립트 변수로 저장하면 편함
        const communitySeq = [[${rDTO.communitySeq}]];

        // HTML로딩이 완료되고, 실행됨

        $(document).ready(function () {

            /*유저 페이지 아이콘 회전 */
            $('.nav-link').click(function () {
                var icon = $(this).find('.fa-chevron-right');

                // 아이콘 회전 애니메이션 추가
                if (icon.hasClass('rotate')) {
                    icon.removeClass('rotate');
                } else {
                    icon.addClass('rotate');
                }
            });

            // 버튼 클릭했을때, 발생되는 이벤트 생성함(onclick 이벤트와 동일함)
            $("#btnEdit").on("click", function () {
                doEdit(); // 공지사항 수정하기 실행
            })

            // 버튼 클릭했을때, 발생되는 이벤트 생성함(onclick 이벤트와 동일함)
            $("#btnDelete").on("click", function () {
                doDelete(); // 공지사항 수정하기 실행
            })

            // 버튼 클릭했을때, 발생되는 이벤트 생성함(onclick 이벤트와 동일함)
            $("#btnList").on("click", function () {
                location.href = "/community/communityList"; // 공지사항 리스트 이동
            })
            $("#btnCommentSend").on("click", function () {
                addComment(); //댓글 등록 실행
            })

        })


        //게시글 수정하기
        function doEdit() {
            console.log("세션 아이디 : " + session_user_id);
            // console.log("디티오 아이디 : "+user_id);
            if (session_user_id === user_id) {
                // alert("communitySeq : " + communitySeq);
                location.href = "/community/communityEditInfo?communitySeq=" + communitySeq;

            } else if (session_user_id === "") {
                alert("로그인 하시길 바랍니다.");

            } else {
                alert("본인이 작성한 글만 수정 가능합니다.");
                location.href = "/community/communityList"; // 공지사항 리스트 이동
            }
        }

        //게시글 삭제하기
        function doDelete() {
            if (session_user_id === user_id) {
                if (confirm("작성한 글을 삭제하시겠습니까?")) {

                    // Ajax 호출해서 글 삭제하기
                    $.ajax({
                            url: "/community/communityDelete",
                            type: "post", // 전송방식은 Post
                            dataType: "JSON", // 전송 결과는 JSON으로 받기
                            data: {"communitySeq": communitySeq}, // form 태그 내 input 등 객체를 자동으로 전송할 형태로 변경하기
                            success:
                                function (json) { // /notice/noticeDelete 호출이 성공했다면..
                                    alert(json.msg); // 메시지 띄우기
                                    location.href = "/community/communityList"; // 공지사항 리스트 이동
                                }
                        }
                    )
                }
            } else{
                alert("본인 게시글만 삭제 가능합니다.");
            }

        }


        //댓글 등록함수 부분
        function addComment() {
            // 사용자로부터 입력 받은 댓글 내용
            let commentText = $("#commentText").val();

            // 현재 세션에서의 userId는 여기에서 얻어와야 합니다.
            let userId = user_id;

            // 현재 날짜를 얻어오는 간단한 함수
            function getCurrentDate() {
                let today = new Date();
                let year = today.getFullYear();
                let month = String(today.getMonth() + 1).padStart(2, '0');
                let day = String(today.getDate()).padStart(2, '0');
                return year + '-' + month + '-' + day;
            }

            // // 글 등록 버튼 클릭 이벤트 처리
            // $("#btnWrite").on("click", function () {
            //     // AJAX를 통해 로그인 상태 확인
            //     $.ajax({
            //         url: "/community/checkLoginStatus", // checkLoginStatus에서 받아온 result 결과로 처리
            //         type: "GET",
            //         success: function(response) {
            //             if (response.loggedIn) { // 받은 result 결과값이 true인 경우 Reg페이지 이동
            //                 // 로그인 된 경우 글 등록 페이지로 이동
            //
            //             } else { //false인 경우 로그인페이지로 이동
            //                 // 로그인되지 않은 경우 알림 띄우기
            //                 alert("로그인이 필요합니다.");
            //                 window.location.href = "/login/login-form";
            //             }
            //         },
            //         error: function() { //에러 처리
            //             // 에러 처리
            //             alert("서버 오류가 발생했습니다.");
            //         }
            //     });
            // });


            // AJAX로 commentInsert 처리
            $.ajax({
                type: "POST",
                url: "/comment/commentInsert",
                data: {
                    communitySeq: communitySeq,
                    content: commentText,
                    wDate: getCurrentDate()
                },
                success: function (response) {

                    // 서버에서 msg 처리한 경우
                    alert(response.msg);

                    // 서버에서 반환된 데이터를 사용하여 새로운 댓글을 동적으로 생성하여 추가
                    let newComment = `
                <div class="comment">
                    <div class="comment-author">${userId}</div>
                    <div class="comment-date">댓글 작성일: ${getCurrentDate()}</div>
                    <div class="comment-content">${commentText}</div>
                </div>
            `;

                    // 댓글 목록에 새로운 댓글 추가
                    $("#commentList").append(newComment);


                    // 댓글 입력창 비우기
                    $("#commentText").val('');

                    // 댓글 등록 후 communityInfo 페이지로 이동
                    window.location.href = "/community/communityInfo?communitySeq=" + communitySeq;

                },
                error: function (error) {
                    // 서버에서 오류가 발생한 경우
                    console.error("Error adding comment:", error);
                }
            });
        }


        //댓글 수정하기 폼
        function showEditCommentForm(rNO, contents, communitySeq, writer, wdate) {

            if (session_user_id !==writer){
                alert("본인 댓글만 수정가능합니다.");
                return;
            }

            console.log("rNO : ", rNO);
            console.log("contents : ", contents);
            console.log("communitySeq : ", communitySeq);
            console.log("writer : ", writer);
            console.log("wdate : ", wdate);

            // 기존 댓글 내용을 수정 폼에 채우기
            $("#editCommentText-" + rNO).val(contents);

            // 기존 댓글 내용을 감추고 수정 폼을 보여주기
            $(".edit-comment-form").hide();
            $("#comment-" + rNO + " .edit-comment-form").show();

        }

        // 댓글 수정 폼을 저장하는 함수
        function saveEditComment(rNO, contents, communitySeq, writer) {


            // 수정된 댓글 내용 가져오기
            console.log("수정 댓글 : " + contents);

            let parameters = {
                'rNO' : rNO,
                'contents': contents,
                'communitySeq': communitySeq,
                'writer' : writer
            }
            let commentContents = document.getElementById("editCommentText-" + rNO);

            // console.log($("#editCommentText-" + rNO).val());

            console.log(commentContents)
            console.log(parameters)
            console.log("commentContents.contents.value : " + commentContents.value)
            // Ajax를 사용하여 서버에 수정된 댓글 내용을 전송
            if(session_user_id === writer){
                $.ajax({
                    type: "POST",
                    url: "/comment/commentUpdate",
                    data: {
                        rNO: rNO,
                        contents: commentContents.value,
                        communitySeq: communitySeq,
                        writer: writer,

                    },
                    success: function (response) {
                        // 서버에서 성공적으로 응답이 왔을 때의 처리
                        alert(response.msg);
                        // 수정된 내용으로 화면 업데이트 등 필요한 작업 수행
                        // 예: 수정된 내용을 해당 댓글 영역에 반영
                        $("#comment-contents-" + rNO).text(commentContents.value);

                        // 수정 폼 감추기
                        $("#comment-" + rNO + " .edit-comment-form").hide();
                    },
                    error: function (error) {
                        // 서버 요청 실패 시의 처리
                        console.log("error : " + error);
                        alert(error.msg);
                    }
                });
            }else{
                alert("본인 댓글만 수정이 가능합니다.");
            }

        }


        //댓글 삭제하기
        function deleteComment(rNO, communitySeq, writer) {

            // alert("rNO : " + rNO);

            var confirmation = confirm("정말로 삭제하시겠습니까?");

            if (confirmation) {
                if (session_user_id === writer) {
                    $.ajax({
                        type: "POST",
                        url: "/comment/commentDelete",
                        data: {
                            rNO: rNO,
                        },
                        success: function (response) {
                            alert(response.msg);
                            if (response.msg === "삭제되었습니다.") {
                                $("#comment-" + rNO).remove();
                            }
                        },
                        error: function (error) {
                            console.error("댓글 삭제 실패:", error);
                        }
                    });
                } else {
                    alert("자신이 작성한 댓글만 삭제할 수 있습니다.");
                }
            }
        }


    </script>

    <style>
        .dropBox {
            width: 90vw;
            height: 80vh;

            margin: .6rem;
            overflow: auto;

            display: flex;
            justify-content: center;
            align-items: center;

            border-radius: 5px;
            border: 4px dashed #ddd;
            user-select: none;
            transition: 0.4s;

            max-height: 1080px; /* 원하는 높이로 설정 */
            overflow: auto; /* 스크롤이 필요한 경우만 스크롤 표시 */
        }

        /* 드롭 반응 */
        .dropBox.active {
            background: #ddd;
        }

        .dropBox h1 {
            font-size: 1.8rem;
        }

        /* ----------- */

        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Pretendard, 'Malgun Gothic', sans-serif;
        }

        /*유저 페이지 아이콘 회전 */

        .fa-chevron-right {
            transition: transform 0.3s ease; /* 변환에 대한 애니메이션 효과를 적용합니다. */
        }

        .rotate {
            transform: rotate(90deg); /* 회전 각도를 지정합니다. */
        }
    </style>

</head>

<body  class="sidebar-dark">
<div class="container-scroller">
    <!-- partial:../../partials/_navbar.html -->
    <!--여기가 상단바 색깔 navbar-dark로 설정해줌-->
    <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row navbar-dark">
        <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-center">
            <a class="navbar-brand brand-logo mr-5" href="index"><img src="/image/logo.svg" class="mr-2"
                                                                      alt="logo"/></a>
            <!--아니 왜 이거 밑에 아이콘 안 나오노? 경로 뭐노-->
            <a class="navbar-brand brand-logo-mini" href="index"><img src="/image/logo-mini.svg" alt="logo"/></a>
        </div>
        <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
            <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
                <span class="icon-menu"></span>
            </button>
            <ul class="navbar-nav mr-lg-2">
                <li class="nav-item nav-search d-none d-lg-block">
                    <div class="input-group">
                        <div class="input-group-prepend hover-cursor" id="navbar-search-icon">
                            <!--                <span class="input-group-text" id="search">-->
                            <!--                  <i class="icon-search"></i>-->
                            <!--                </span>-->
                        </div>
                        <!--검색창-->
                        <!--            <input type="text" class="form-control" id="navbar-search-input" placeholder="Search now" aria-label="search" aria-describedby="search">-->
                    </div>
                </li>
            </ul>
            <ul class="navbar-nav navbar-nav-right">
                <li class="nav-item dropdown">
                    <!--          <a class="nav-link count-indicator dropdown-toggle" id="notificationDropdown" href="#"-->
                    <!--             data-toggle="dropdown">-->
                    <!--            <i class="icon-bell mx-0"></i>-->
                    <!--            <span class="count"></span>-->
                    <!--          </a>-->
                    <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list"
                         aria-labelledby="notificationDropdown">
                        <p class="mb-0 font-weight-normal float-left dropdown-header">Notifications</p>
                        <a class="dropdown-item preview-item">
                            <div class="preview-thumbnail">
                                <div class="preview-icon bg-success">
                                    <i class="ti-info-alt mx-0"></i>
                                </div>
                            </div>
                            <div class="preview-item-content">
                                <h6 class="preview-subject font-weight-normal">Application Error</h6>
                                <p class="font-weight-light small-text mb-0 text-muted">
                                    Just now
                                </p>
                            </div>
                        </a>
                        <a class="dropdown-item preview-item">
                            <div class="preview-thumbnail">
                                <div class="preview-icon bg-warning">
                                    <i class="ti-settings mx-0"></i>
                                </div>
                            </div>
                            <div class="preview-item-content">
                                <h6 class="preview-subject font-weight-normal">Settings</h6>
                                <p class="font-weight-light small-text mb-0 text-muted">
                                    Private message
                                </p>
                            </div>
                        </a>
                        <a class="dropdown-item preview-item">
                            <div class="preview-thumbnail">
                                <div class="preview-icon bg-info">
                                    <i class="ti-user mx-0"></i>
                                </div>
                            </div>
                            <div class="preview-item-content">
                                <h6 class="preview-subject font-weight-normal">New user registration</h6>
                                <p class="font-weight-light small-text mb-0 text-muted">
                                    2 days ago
                                </p>
                            </div>
                        </a>
                    </div>
                </li>
                <li class="nav-item nav-profile dropdown">
                    <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
                        <img src="/image/faces/profile.png" alt="profile"/>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
                        <a class="dropdown-item">
                            <i class="ti-power-off text-primary"></i>
                            Logout
                        </a>
                    </div>
                </li>
                <!--        <li class="nav-item nav-settings d-none d-lg-flex">-->
                <!--          <a class="nav-link" href="#">-->
                <!--            <i class="icon-ellipsis"></i>-->
                <!--          </a>-->
                <!--        </li>-->
            </ul>
            <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button"
                    data-toggle="offcanvas">
                <span class="icon-menu"></span>
            </button>
        </div>
    </nav>
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
        <!-- partial:../../partials/_settings-panel.html -->
        <!--    <div class="theme-setting-wrapper">-->
        <!--이거 톱니바퀴 없앰-->

        <!--      <div id="settings-trigger"><i class="ti-settings"></i></div>-->
        <!--      <div id="theme-settings" class="settings-panel">-->
        <!--        <i class="settings-close ti-close"></i>-->
        <!--        <p class="settings-heading">SIDEBAR SKINS</p>-->
        <!--        <div class="sidebar-bg-options selected" id="sidebar-light-theme"><div class="img-ss rounded-circle bg-light border mr-3"></div>Light</div>-->
        <!--        <div class="sidebar-bg-options" id="sidebar-dark-theme"><div class="img-ss rounded-circle bg-dark border mr-3"></div>Dark</div>-->
        <!--        <p class="settings-heading mt-2">HEADER SKINS</p>-->
        <!--        <div class="color-tiles mx-0 px-4">-->
        <!--          <div class="tiles success"></div>-->
        <!--          <div class="tiles warning"></div>-->
        <!--          <div class="tiles danger"></div>-->
        <!--          <div class="tiles info"></div>-->
        <!--          <div class="tiles dark"></div>-->
        <!--          <div class="tiles default"></div>-->
        <!--        </div>-->
        <!--      </div>-->
        <!--    </div>-->
        <div id="right-sidebar" class="settings-panel">
            <i class="settings-close ti-close"></i>
            <ul class="nav nav-tabs border-top" id="setting-panel" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="todo-tab" data-toggle="tab" href="#todo-section" role="tab" aria-controls="todo-section" aria-expanded="true">TO DO LIST</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="chats-tab" data-toggle="tab" href="#chats-section" role="tab" aria-controls="chats-section">CHATS</a>
                </li>
            </ul>
            <div class="tab-content" id="setting-content">
                <div class="tab-pane fade show active scroll-wrapper" id="todo-section" role="tabpanel" aria-labelledby="todo-section">
                    <div class="add-items d-flex px-3 mb-0">
                        <form class="form w-100">
                            <div class="form-group d-flex">
                                <input type="text" class="form-control todo-list-input" placeholder="Add To-do">
                                <button type="submit" class="add btn btn-primary todo-list-add-btn" id="add-task">Add</button>
                            </div>
                        </form>
                    </div>
                    <div class="list-wrapper px-3">
                        <ul class="d-flex flex-column-reverse todo-list">
                            <li>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox">
                                        Team review meeting at 3.00 PM
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                            <li>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox">
                                        Prepare for presentation
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                            <li>
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox">
                                        Resolve all the low priority tickets due today
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                            <li class="completed">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox" checked>
                                        Schedule meeting for next week
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                            <li class="completed">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="checkbox" type="checkbox" checked>
                                        Project review
                                    </label>
                                </div>
                                <i class="remove ti-close"></i>
                            </li>
                        </ul>
                    </div>
                    <h4 class="px-3 text-muted mt-5 font-weight-light mb-0">Events</h4>
                    <div class="events pt-4 px-3">
                        <div class="wrapper d-flex mb-2">
                            <i class="ti-control-record text-primary mr-2"></i>
                            <span>Feb 11 2018</span>
                        </div>
                        <p class="mb-0 font-weight-thin text-gray">Creating component page build a js</p>
                        <p class="text-gray mb-0">The total number of sessions</p>
                    </div>
                    <div class="events pt-4 px-3">
                        <div class="wrapper d-flex mb-2">
                            <i class="ti-control-record text-primary mr-2"></i>
                            <span>Feb 7 2018</span>
                        </div>
                        <p class="mb-0 font-weight-thin text-gray">Meeting with Alisa</p>
                        <p class="text-gray mb-0 ">Call Sarah Graves</p>
                    </div>
                </div>
                <!-- To do section tab ends -->
                <div class="tab-pane fade" id="chats-section" role="tabpanel" aria-labelledby="chats-section">
                    <div class="d-flex align-items-center justify-content-between border-bottom">
                        <p class="settings-heading border-top-0 mb-3 pl-3 pt-0 border-bottom-0 pb-0">Friends</p>
                        <small class="settings-heading border-top-0 mb-3 pt-0 border-bottom-0 pb-0 pr-3 font-weight-normal">See All</small>
                    </div>
                    <ul class="chat-list">
                        <li class="list active">
                            <div class="profile"><img src="../../images/faces/face1.jpg" alt="image"><span class="online"></span></div>
                            <div class="info">
                                <p>Thomas Douglas</p>
                                <p>Available</p>
                            </div>
                            <small class="text-muted my-auto">19 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="../../images/faces/face2.jpg" alt="image"><span class="offline"></span></div>
                            <div class="info">
                                <div class="wrapper d-flex">
                                    <p>Catherine</p>
                                </div>
                                <p>Away</p>
                            </div>
                            <div class="badge badge-success badge-pill my-auto mx-2">4</div>
                            <small class="text-muted my-auto">23 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="../../images/faces/face3.jpg" alt="image"><span class="online"></span></div>
                            <div class="info">
                                <p>Daniel Russell</p>
                                <p>Available</p>
                            </div>
                            <small class="text-muted my-auto">14 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="../../images/faces/face4.jpg" alt="image"><span class="offline"></span></div>
                            <div class="info">
                                <p>James Richardson</p>
                                <p>Away</p>
                            </div>
                            <small class="text-muted my-auto">2 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="../../images/faces/face5.jpg" alt="image"><span class="online"></span></div>
                            <div class="info">
                                <p>Madeline Kennedy</p>
                                <p>Available</p>
                            </div>
                            <small class="text-muted my-auto">5 min</small>
                        </li>
                        <li class="list">
                            <div class="profile"><img src="../../images/faces/face6.jpg" alt="image"><span class="online"></span></div>
                            <div class="info">
                                <p>Sarah Graves</p>
                                <p>Available</p>
                            </div>
                            <small class="text-muted my-auto">47 min</small>
                        </li>
                    </ul>
                </div>
                <!-- chat tab ends -->
            </div>
        </div>
        <!-- partial -->
        <!-- partial:../../partials/_sidebar.html -->
        <!--왼쪽 사이드 바-->
        <nav class="sidebar sidebar-offcanvas" id="sidebar">
            <ul class="nav">
                <li class="nav-item">
                    <a class="nav-link" href="/index">
                        <!--                    <i class="fa-solid fa-house icon-grid menu-icon"></i>-->
                        <i class="fa-solid fa-house icon-grid menu-icon"></i>
                        <span class="menu-title">Dashboard</span>
                    </a>
                </li>

                <!--여기 준수형 파일 경로 바꿔야함-->
                <li class="nav-item">
                    <a class="nav-link" href="/order/upload-form">

                        <i class="fa-solid fa-magnifying-glass icon-paper menu-icon"></i>
                        <span class="menu-title">Search Product</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/community/communityList">

                        <i class="fa-solid fa-comments icon-paper menu-icon"></i>
                        <span class="menu-title">Community</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" data-toggle="collapse" href="#auth" aria-expanded="false" aria-controls="auth">
                        <i class="fa-solid fa-user icon-head menu-icon"></i>
                        <span class=" menu-title">User Pages</span>

                        <!--                       <i class="fa-solid fa-chevron-right menu-arrow"></i>-->
                        <i class="fa-solid fa-chevron-right" style="margin-left: 0.5rem"></i>


                        <!--                    <i class="fa-solid fa-chevron-right "></i>-->
                    </a>
                    <div class="collapse" id="auth">
                        <ul class="nav flex-column sub-menu">
                            <li class="nav-item"><a class="nav-link" href="pages/samples/login.html"> MyPage </a></li>
                            <li class="nav-item"><a class="nav-link" href="pages/samples/register.html"> Register </a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </nav>

        <!--여기까지 왼쪽 사이드 바-->
        <!-- partial -->
        <div class="main-panel">
            <div class="content-wrapper">
                <div class="row">
                    <div class="col-md-12 grid-margin stretch-card">
                        <div class="card">
                            <div class="card-body">
                                <p class="card-title">Community Notice</p>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="table-responsive">
                                            <div class="board_wrap">
                                                <div class="board_title">
                                                    <strong>게시글 상세보기</strong>
                                                    <!--<p>상세보기 페이지입니다.</p>-->
                                                </div>
                                                <div class="board_view_wrap">
                                                    <div class="board_view">
                                                        <div class="title" th:text="${rDTO.title}"></div>
                                                        <div class="info">
                                                            <dl>
                                                                <dt>번호</dt>
                                                                <dd th:text="${rDTO.communitySeq}"></dd>
                                                            </dl>
                                                            <dl>
                                                                <dt>글쓴이</dt>
                                                                <dd th:text="${rDTO.userId}"></dd>
                                                            </dl>
                                                            <dl>
                                                                <dt>작성일</dt>
                                                                <dd th:text="${rDTO.regDt}"></dd>
                                                            </dl>
                                                            <dl>
                                                                <dt>조회</dt>
                                                                <dd th:text="${rDTO.readCnt}"></dd>
                                                            </dl>
                                                        </div>
                                                        <div class="cont" th:text="${rDTO.contents}"></div>
                                                    </div>
                                                    <div class="bt_list">
                                                        <button id="btnEdit" class="btn btn-inverse-dark btn-fw" type="button">수정</button>
                                                        <button id="btnDelete" class="btn btn-inverse-dark btn-fw" type="button">삭제</button>
                                                        <button id="btnList" class="btn btn-inverse-dark btn-fw" type="button">목록</button>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="container2" style="padding-bottom: 150px">
                                                <!-- 이전 디자인 부분은 그대로 유지 -->

                                                <div class="comments">
                                                    <h2>댓글</h2>

                                                    <!-- 댓글 목록 출력 부분 -->
                                                    <div id="commentList">
                                                        <div th:each="comment : ${commentList}" class="comment" th:id="${'comment-' + comment.rNO}">
                                                            <div class="comment-author" th:text="${comment.writer}"></div>
                                                            <div class="comment-date" th:text="'댓글 작성일: ' + ${comment.wdate}"></div>
                                                            <div class="comment-content" th:text="${comment.contents}"
                                                                 th:id="'comment-contents-' + ${comment.rNO}"></div>

                                                            <!-- 수정 버튼 -->
                                                            <button class="btn btn-inverse-dark btn-fw"
                                                                    th:attr="onclick='showEditCommentForm(\'' + ${comment.rNO} + '\', \'' + ${comment.contents} + '\', \'' + ${comment.communitySeq} + '\', \'' + ${comment.writer} + '\', \'' + ${comment.wdate}+'\')'">
                                                                수정
                                                            </button>

                                                            <!-- 삭제 버튼 -->
                                                            <button class="btn btn-inverse-dark btn-fw"
                                                                    th:attr="onclick='deleteComment(\'' + ${comment.rNO} + '\', \'' + ${comment.communitySeq} + '\', \'' + ${comment.writer} + '\')'">
                                                                삭제
                                                            </button>

                                                            <!-- 수정하는 입력 창 -->
                                                            <div class="edit-comment-form" style="display: none;">
                                                                <div class="form-group">
                                                                    <textarea class="form-control" th:id="'editCommentText-' + ${comment.rNO}" rows="3" placeholder="댓글을 수정하세요"></textarea>
                                                                </div>
                                                                <button class="btn btn-inverse-dark btn-fw" th:attr="onclick='saveEditComment(\'' + ${comment.rNO} + '\', \''+ ${comment.contents} + '\', \'' + ${comment.communitySeq} + '\', \'' + ${comment.writer} + '\')'">
                                                                    저장
                                                                </button>
                                                            </div>

                                                        </div>
                                                    </div>

                                                    <div class="comment-input">
                                                        <textarea id="commentText" rows="3" placeholder="댓글을 입력하세요"></textarea>
                                                    </div>

                                                    <div class="comment-button">
                                                        <button class="btn btn-inverse-dark btn-fw" id="btnCommentSend">댓글 작성</button>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <!-- 페이징 처리를 위한 div 추가 -->
                                    </div>
                                </div>



                            </div>
                        </div>
                    </div>
                </div>
                <!--여기까지 우리가 쓸 테이블-->
                <div class="row">

                    <!--
                                <div class="col-md-6 grid-margin stretch-card">

                                </div>
                                <div class="col-md-6 grid-margin stretch-card">

                                </div>
                                <div class="col-12 grid-margin stretch-card">

                                </div>
                                <div class="col-md-6 grid-margin stretch-card">

                                </div>
                                <div class="col-md-6 grid-margin stretch-card">

                                </div>
                                <div class="col-md-6 grid-margin stretch-card">

                                </div>
                    -->
<!--                    <div class="col-md-6 grid-margin stretch-card">-->
<!--                        &lt;!&ndash;여기에서 공지글 여부 버튼 결정&ndash;&gt;-->
<!--                        <div class="card">-->
<!--                            <div class="card-body">-->
<!--                                <h4 class="card-title">Checkbox Controls</h4>-->
<!--                                <p class="card-description">Checkbox and radio controls (default appearance is in primary color)</p>-->
<!--                                <form>-->
<!--                                    <div class="row">-->
<!--                                        <div class="col-md-6">-->
<!--                                            <div class="form-group">-->
<!--                                                <div class="form-check">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="checkbox" class="form-check-input">-->
<!--                                                        Default-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="checkbox" class="form-check-input" checked>-->
<!--                                                        Checked-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="checkbox" class="form-check-input" disabled>-->
<!--                                                        Disabled-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="checkbox" class="form-check-input" disabled checked>-->
<!--                                                        Disabled checked-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                        <div class="col-md-6">-->
<!--                                            <div class="form-group">-->
<!--                                                <div class="form-check">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios1" value="">-->
<!--                                                        Default-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios2" value="option2" checked>-->
<!--                                                        Selected-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="radio" class="form-check-input" name="optionsRadios2" id="optionsRadios3" value="option3" disabled>-->
<!--                                                        Disabled-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="radio" class="form-check-input" name="optionsRadio2" id="optionsRadios4" value="option4" disabled checked>-->
<!--                                                        Selected and disabled-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </form>-->
<!--                            </div>-->
<!--                            <div class="card-body">-->
<!--                                <p class="card-description">Add class <code>.form-check-{color}</code> for checkbox and radio controls in theme colors</p>-->
<!--                                <form>-->
<!--                                    <div class="row">-->
<!--                                        <div class="col-md-6">-->
<!--                                            <div class="form-group">-->
<!--                                                <div class="form-check form-check-primary">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="checkbox" class="form-check-input" checked>-->
<!--                                                        Primary-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check form-check-success">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="checkbox" class="form-check-input" checked>-->
<!--                                                        Success-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check form-check-info">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="checkbox" class="form-check-input" checked>-->
<!--                                                        Info-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check form-check-danger">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="checkbox" class="form-check-input" checked>-->
<!--                                                        Danger-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check form-check-warning">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="checkbox" class="form-check-input" checked>-->
<!--                                                        Warning-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                        <div class="col-md-6">-->
<!--                                            <div class="form-group">-->
<!--                                                <div class="form-check form-check-primary">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="radio" class="form-check-input" name="ExampleRadio1" id="ExampleRadio1" checked>-->
<!--                                                        Primary-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check form-check-success">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="radio" class="form-check-input" name="ExampleRadio2" id="ExampleRadio2" checked>-->
<!--                                                        Success-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check form-check-info">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="radio" class="form-check-input" name="ExampleRadio3" id="ExampleRadio3" checked>-->
<!--                                                        Info-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check form-check-danger">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="radio" class="form-check-input" name="ExampleRadio4" id="ExampleRadio4" checked>-->
<!--                                                        Danger-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                                <div class="form-check form-check-warning">-->
<!--                                                    <label class="form-check-label">-->
<!--                                                        <input type="radio" class="form-check-input" name="ExampleRadio5" id="ExampleRadio5" checked>-->
<!--                                                        Warning-->
<!--                                                    </label>-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </form>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
                    <div class="col-12 grid-margin stretch-card">
                        <!--이거 나중에 배너로 쓸 div로 쓸까 생각중-->
                        <!--
                                      <div class="card">
                                        <div class="card-body">
                                          <h4 class="card-title">Inline forms</h4>
                                          <p class="card-description">
                                            Use the <code>.form-inline</code> class to display a series of labels, form controls, and buttons on a single horizontal row
                                          </p>
                                          <form class="form-inline">
                                            <label class="sr-only" for="inlineFormInputName2">Name</label>
                                            <input type="text" class="form-control mb-2 mr-sm-2" id="inlineFormInputName2" placeholder="Jane Doe">

                                            <label class="sr-only" for="inlineFormInputGroupUsername2">Username</label>
                                            <div class="input-group mb-2 mr-sm-2">
                                              <div class="input-group-prepend">
                                                <div class="input-group-text">@</div>
                                              </div>
                                              <input type="text" class="form-control" id="inlineFormInputGroupUsername2" placeholder="Username">
                                            </div>
                                            <div class="form-check mx-sm-2">
                                              <label class="form-check-label">
                                                <input type="checkbox" class="form-check-input" checked>
                                                Remember me
                                              </label>
                                            </div>
                                            <button type="submit" class="btn btn-primary mb-2">Submit</button>
                                          </form>
                                        </div>
                                      </div>
                        -->
                    </div>
                    <div class="col-12 grid-margin">

                    </div>
                    <div class="col-md-6 grid-margin stretch-card">

                    </div>
                    <div class="col-md-6 grid-margin stretch-card">

                    </div>
                </div>
            </div>
            <!-- content-wrapper ends -->
            <!-- partial:../../partials/_footer.html -->
            <footer class="footer">
                <div class="d-sm-flex justify-content-center justify-content-sm-between">
                    <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright © 2021.  Premium <a href="https://www.bootstrapdash.com/" target="_blank">Bootstrap admin template</a> from BootstrapDash. All rights reserved.</span>
                    <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Hand-crafted & made with <i class="ti-heart text-danger ml-1"></i></span>
                </div>
            </footer>
            <!-- partial -->
        </div>
        <!-- main-panel ends -->
    </div>
    <!-- page-body-wrapper ends -->
</div>
<!--이미지 드래그 드랍-->
<script src="/ocr/js/imageDrag.js"></script>
<!-- plugins:js -->
<script src="/vendors/js/vendor.bundle.base.js"></script>
<!-- endinject -->
<!-- Plugin js for this page -->
<script src="/vendors/chart.js/Chart.min.js"></script>
<script src="/vendors/datatables.net/jquery.dataTables.js"></script>
<script src="/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
<script src="/js/dataTables.select.min.js"></script>

<!-- End plugin js for this page -->
<!-- inject:js -->
<script src="/js/off-canvas.js"></script>
<script src="/js/hoverable-collapse.js"></script>
<script src="/js/template.js"></script>
<script src="/js/settings.js"></script>
<script src="/js/todolist.js"></script>
<!-- endinject -->
<!-- Custom js for this page-->
<script src="/js/dashboard.js"></script>
<script src="/js/Chart.roundedBarCharts.js"></script>
<!-- End custom js for this page-->
</body>

</html>
